<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœå‹™é¸å–®</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/SSGS-Web-App/styles.css"> 
</head>
<body>
    <div class="container">
        <h1>æœå‹™é¸å–®ï¼šæ—¥é–“éƒ¨è¨»å†Šçµ„</h1>
        <p>æ‚¨å¥½ï¼Œå·²ç¢ºèªæ‚¨çš„èº«ä»½ã€‚è«‹é¸æ“‡æ‚¨æƒ³æŸ¥è©¢çš„æœå‹™é …ç›®ï¼š</p>
        
        <div class="service-grid">
            
            <a class="service-card" href="document_apply.html" onclick="trackClick('btn_apply')">
                <span class="service-icon">ğŸ“„</span>
                <p class="card-title">ç”³è«‹æ–‡ä»¶æŸ¥è©¢</p>
                <small style="color: #666;">æˆç¸¾å–®ã€å­¸ä½è­‰æ˜ç­‰</small>
            </a>
            
            <a class="service-card" href="withdrawal_guide.html" onclick="trackClick('btn_withdrawal')">
                <span class="service-icon">â³</span>
                <p class="card-title">ä¼‘/é€€å­¸èˆ‡å¾©å­¸æŒ‡å¼•</p>
                <small style="color: #666;">å‹•æ…‹æ–‡ä»¶æ¸…å–®èˆ‡æµç¨‹</small>
            </a>
            
            <a class="service-card" href="iccard_guide.html" onclick="trackClick('btn_iccard')">
                <span class="service-icon">ğŸ’³</span>
                <p class="card-title">å­¸ç”Ÿ IC å¡éºå¤±/è£œç™¼</p>
                <small style="color: #666;">ç·šä¸Šæ›å¤±èˆ‡é ˜å–æ­¥é©Ÿ</small>
            </a>
            
            <a class="service-card" href="name_change_guide.html" onclick="trackClick('btn_namechange')">
                <span class="service-icon">âœï¸</span>
                <p class="card-title">æ›´æ”¹å§“å/åœ°å€ç”³è«‹</p>
                <small style="color: #666;">æˆ¶ç±èˆ‡éƒµå¯„åœ°å€è®Šæ›´</small>
            </a>
            
        </div>
        
        <a href="/SSGS-Web-App/index.html" class="option-button back-to-home-btn" style="margin-top: 40px; background-color: #f0f0f0; color: var(--text-color); border: 1px solid #ccc;">&larr; é‡æ–°è¼¸å…¥å­¸è™Ÿ / è¿”å›é–€æˆ¶</a>

        <div id="userInfo">
            </div>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        const studentId = urlParams.get('id');
        const studentLevel = urlParams.get('level');
        const requiresConsent = urlParams.get('consent');
        
        const withdrawalLink = document.querySelector('a[href="/SSGS-Web-App/withdrawal_guide.html"]');
        
        // å¦‚æœåƒæ•¸å­˜åœ¨ï¼Œå‹•æ…‹ä¿®æ”¹é€£çµ
        if (studentId && studentLevel) {
            withdrawalLink.href = `/SSGS-Web-App/withdrawal_guide.html?id=${studentId}&level=${studentLevel}&consent=${requiresConsent}`;
        }
        
        // å¯é¸ï¼šé¡¯ç¤ºå·²è¾¨è­˜èº«ä»½
        const userInfo = document.getElementById('userInfo');
        if (userInfo && studentLevel) {
             userInfo.innerHTML = `<p style="color: var(--primary-color); font-weight: 700;">æ‚¨çš„èº«ä»½ï¼šæ—¥é–“éƒ¨ / ${studentLevel}</p>`;
        }
    });

    if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(reg => console.log('SSGS App å•Ÿå‹•æˆåŠŸï¼'))
                    .catch(err => console.log('å•Ÿå‹•å¤±æ•—ï¼š', err));
            });
        }
</script>
    
</body>
</html>
